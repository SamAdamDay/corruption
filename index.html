<!DOCTYPE html>
<!-- Copyright (c) 2014 Sam Adam-Day -->
<!-- MIT Licence -->
<html>

<head>
	<title>Corruption</title>
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link href="style.css" type="text/css" rel="stylesheet">
	<link href="highlight/styles/corruption.css" type="text/css" rel="stylesheet">
	<script src="keypress/keypress-2.0.2.min.js" type="text/javascript"></script>
	<script src="highlight/highlight.pack.js" type="text/javascript"></script>
</head>

<body>

<script>$l=new keypress.Listener();$l.register_combo({"keys":"space","on_keydown":function(){$l.unregister_combo("space");eval(n.innerHTML.replace(/<[^>]+>|\n/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))}})</script>

<pre id="n"><span class="hljs-comment">/* ** <strong>CORRUPTION</strong> **  by <em>Sam Adam-Day</em> */</span>   <span class="hljs-comment">/* This is Corruption. You are a single block character. The universe in which you live is the code for the universe in which you live (it's very meta). There
 is code that allows you to move and code that gives you points, but also code that reduces your points and code for baddies. You must traverse this world carefully, taking care not to destroy your ow
n capacity to exist. */</span> <span class="hljs-comment">/* |Universe| There are lots of discrete bits of code, each of which do different things (see |Statements| for a description of these). If a piece of code is <span class="statement-c-1">red</span> then it's not 
valid, and no longer has an effect (this may only be temporary). The way to gain points is by eating yin-yangs, which appear spontaneously (this is probably a metaphor for something). */</span><span class="hljs-comment">/* |Controls| 
Use [arrow keys] to move around. Once the universe is corrupted beyond repair, press [q], [backspace], or [esc] to see your final score. You can press [space] whenever you want to begin playing. */</span> <span class="hljs-comment">/*
 |Statements| The statements that exist in this universe do the following: - initialise the universe - <span class="statement-c1">allow you to move around</span> - <span class="statement-c11">display your score</span> - <span class="statement-c4">add space</span> - <span class="statement-c5">remove space</span> - <span class="statement-c3">duplicate statements</span> -
 <span class="statement-c2">swap adjacent statements</span> - <span class="statement-c6">generate yin-yangs</span> - <span class="statement-c7">reduce your score</span> - <span class="statement-c8">self replicate and eat yin-yangs (the viruses)</span> - <span class="statement-c9">spawn and move umlaut-monsters that eat yin-yangs, and also you</span> - <span class="statement-c12">add clean orgini
al statements into the universe</span> */</span> <span class="hljs-comment">/* |A Bit More| The game is, but its nature, quite varied. It helps if you're familiar with computer programming (the language of the universe is javascript). Someti
mes statements combine in unexpected ways to produce really weird results; be ready for this. If there's more than one block character, you control the one earliest. Big yin-yangs are made of smaller 
yin-yangs. When a virus eats a yin-yang, it leaved behind a #. */</span> <span class="hljs-comment">/* |Credits| This game uses the <a href="http://dmauro.github.io/Keypress/">Keypress</a> javascript library made by David Mauro, and <a href="http://highlightjs.org/">highlight.js</a> made by <a href="https://github.com/isagalaev/highlight.js/blob/master/AUTHORS.en.txt">many people</a>. */</span> <span class="hljs-comment">/* |Source| 
This game is open source, and you can find it on <a href="https://github.com/SparklePigBang/corruption">Github</a>. */</span>   <span class="hljs-comment">/* ENJOY! */</span>   M=<span class="hljs-number">250</span>;W=<span class="hljs-number">200</span>;X=<span class="hljs-number">50</span>;I=<span class="hljs-number">50</span>;D=<span class="hljs-string">"/**/"</span>;P=<span class="hljs-string">"\u2588"</span>;G=<span class="hljs-string">"/*\u262f\u262f*/"</span>;C=<span class="hljs-string">"\u262f"</span>;S=<span class="hljs-string">" "</span>;L=<span class="hljs-number">6</span>;Q=<span class="hljs-number">350</span>;f=<span class="hljs-number">0</span>;g=<span class="hljs-number">0</span>;v={<span class="hljs-string">"UP"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"
DOWN"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"LEFT"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"RIGHT"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>]};$e=<span class="hljs-literal">false</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>($m)clearInterval($m);n.innerHTML=hljs.highlight(<span class="hljs-string">"javascript"</span>,<span class="hljs-string">"/**************/\n/* Game Over! */\n/******
********/\n/* Score: */\ng = "</span>+g+<span class="hljs-string">";\n\n/* Press [F5] to play again. /*"</span>).value}$l.register_many([{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"up"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.UP[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">if</span>(v.UP[<span class="hljs-number">1</span>]&lt;Q)v.UP[<span class="hljs-number">1</span>]++},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.UP[<span class="hljs-number">0</span>]
=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"down"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.DOWN[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">if</span>(v.DOWN[<span class="hljs-number">1</span>]&lt;Q)v.DOWN[<span class="hljs-number">1</span>]++},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.DOWN[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"left"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.LEFT[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">if</span>(v.LEFT[<span class="hljs-number">1</span>]&lt;Q)
v.LEFT[<span class="hljs-number">1</span>]+=<span class="hljs-number">5</span>},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.LEFT[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"right"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.RIGHT[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">if</span>(v.RIGHT[<span class="hljs-number">1</span>]&lt;Q)v.RIGHT[<span class="hljs-number">1</span>]+=<span class="hljs-number">5</span>},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.RIGHT[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"q"</span>,<span class="hljs-string">"on_ke
ydown"</span>:w},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"backspace"</span>,<span class="hljs-string">"on_keydown"</span>:w},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"escape"</span>,<span class="hljs-string">"on_keydown"</span>:w}]);r=<span class="hljs-built_in">Math</span>.random;u=<span class="hljs-built_in">Math</span>.round;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span><span class="hljs-params">($g,$y,$s)</span>{</span>$y=<span class="hljs-keyword">typeof</span> $y!=<span class="hljs-string">"undefined"</span>&amp;&amp;$y;$w=-<span class="hljs-number">1</span>;$q=[];<span class="hljs-keyword">for</span>($i <span class="hljs-keyword">in</span> $g)<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> $g[$i]
==<span class="hljs-string">"string"</span>&amp;&amp;$g[$i]){$f=$g[$i];$v=($w+$f.length)%W;<span class="hljs-keyword">if</span>($v+D.length&gt;=W)$v=D.length-<span class="hljs-number">1</span>;<span class="hljs-keyword">else</span> $v+=D.length;<span class="hljs-keyword">if</span>($w+$f.length+D.length&gt;=W){$a=[$f.slice(<span class="hljs-number">0</span>,W-$w-<span class="hljs-number">1</span>)];<span class="hljs-keyword">for</span>($j=<span class="hljs-number">0</span>;$j&lt;=<span class="hljs-built_in">Math</span>.floor(($w+$f.length+D.length-
W)/W);$j++)$a.push($f.slice(W-$w-<span class="hljs-number">1</span>+$j*W,W-$w-<span class="hljs-number">1</span>+($j+<span class="hljs-number">1</span>)*W));$f=$a.join(<span class="hljs-string">"\n"</span>)}<span class="hljs-keyword">if</span>($y){$f=hljs.highlight(<span class="hljs-string">"javascript"</span>,$f,<span class="hljs-literal">true</span>).value.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(C+C,<span class="hljs-string">"g"</span>),<span class="hljs-string">"\u201e\u00f7"</span>).replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(C,<span class="hljs-string">"g"</span>),<span class="hljs-string">"&lt;
span class='yin-yang-small'&gt;"</span>+C+<span class="hljs-string">"&lt;/span&gt;"</span>).replace(<span class="hljs-regexp">/\u201e\u00f7/g</span>,<span class="hljs-string">"&lt;span class='yin-yang-large'&gt;"</span>+C+<span class="hljs-string">"&lt;/span&gt;"</span>);$f=<span class="hljs-string">"&lt;span class='statement-c"</span>+$o[$i]+<span class="hljs-string">"'&gt;"</span>+$f+<span class="hljs-string">"&lt;/span&gt;"</span>}$q.push($f);$w=$v}<span class="hljs-keyword">return</span> $y?$q.jo
<span class="hljs-keyword">in</span>(hljs.highlight(<span class="hljs-string">"javascript"</span>,D,<span class="hljs-literal">true</span>).value):$q.join(D)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span><span class="hljs-params">($h)</span>{</span><span class="hljs-keyword">return</span> $h.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\n"</span>,<span class="hljs-string">"g"</span>),<span class="hljs-string">""</span>).split(D)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span><span class="hljs-string">"score="</span>+f+<span class="hljs-string">";"</span>}o=s=[<span class="hljs-string">"eval(s[1]); s.push(s[1],s[1],s[1]); 
for (i=0;i&lt;5;i++){k=u(r()*(s.length-1));s.splice(k,0,s[k]);} for (i=s.length-1;i&gt;0;i--){j=u(r()*(s.length-1));t=s[i];s[i]=s[j];s[j]=t;} b=c(s).split(S);for(i=0;i&lt;140;i++){k=u(r()*(b.length-1));b=b.sli
ce(0,k).concat(b[k]+new Array(u(r()*50+1)).join(S),b.slice(k+1));}s=d(b.join(S)); k=u(r()*(s.length-1));s.splice(k,0,P); b=c(s).split(t=new Array(L).join(S));k=u(r()*(b.length-1));s=d(b.slice(0,k).con
cat(b[k]+G,b.slice(k+1)).join(t));"</span>,<span class="hljs-string">"s[0]='score='+f+';z=1';_c=11"</span>,<span class="hljs-string">"0/**/for ( i = 0 ; i &lt; ( z &amp;&amp; v . UP [ 1 ] / 100 ) ; i ++ ) { b = c ( s ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; 
y = Math . max ( 0 , y - 1 ) ; if ( b [ y * W + x + 1 ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x - 1 ) + P + t . slice ( y * W + x ) ); } z = z &amp;&amp; ! i ; _c = 1/*
*/0"</span>,<span class="hljs-string">"0/**/for ( i = 0 ; i &lt; ( z &amp;&amp; v . DOWN [ 1 ] / 100 ) ; i ++ ) { b = c ( s ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; y = Math . min ( Math . ceil ( b . length / W ) - 1 , y + 1 
) ; if ( b [ y * W + x + 1 ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x + 1 ) + P + t . slice ( y * W + x + 2 ) ); } z = z &amp;&amp; ! i ; _c = 1/**/0"</span>,<span class="hljs-string">"0/**/for ( i = 0 
; i &lt; ( z &amp;&amp; v . LEFT [ 1 ] / 100 ) ; i ++ ) { b = c ( s ) . replace ( /\\n/g , '' ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; x = Math . max ( 0 , x - 1 ) ; if ( b [ y * W + x ] == C 
) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x ) + P + t . slice ( y * W + x + 1 ) ); } z = z &amp;&amp; ! i ; _c = 1/**/0"</span>,<span class="hljs-string">"0/**/for ( i = 0 ; i &lt; ( z &amp;&amp; v . RIGHT [ 1 ] / 100 ) ;
 i ++ ) { b = c ( s ) . replace ( /\\n/g , '' ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; x = Math . min ( W - 1 , x + 1 ) ; if ( b [ y * W + x ] == C ) { f += I } t = b . replace ( P 
, S ) ; s = d ( t . slice ( 0 , y * W + x ) + P + t . slice ( y * W + x + 1 ) ); } z = z &amp;&amp; ! i ; _c = 1/**/0"</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.004 ) { k = u ( r ( ) * ( s . length - 2 ) ) ; t = s [ k ] ; s [ k ] = s
 [ k + 1 ] ; s [ k + 1 ] = t } _c = 2 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.01 ) { k = u ( r ( ) * ( s . length - 1 ) ) ; s . splice ( k , 0 , s [ k ] ) } _c = 3 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.04 ) { b = c ( s ) . split (  S ) ; k 
= u ( r ( ) * ( b . length - 2 ) ) ; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + S , b . slice ( k + 1 ) ) . join ( S ) ) } _c = 4 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.04 ) { b = c ( s ) . split ( S + S ) ; k = u 
( r ( ) * ( b . length - 2 ) ) ; b . splice ( k , 2 , b [ k ] + S + b [ k + 1 ] ) ; s = d ( b . join ( S + S ) ) } _c = 5 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.06 ) { b = c ( s ) . split ( t = new Array ( G . length ) .
 join ( S ) ); k = u ( r ( ) * ( b . length - 2 ) ) ; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + G  + b [ k + 1 ], b . slice ( k + 2 ) ) . join ( t ) ) ; } _c = 6 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.4 ) { f-- } 
_c = 7 "</span>,<span class="hljs-string">"t='/*'+'*/';if(r()&lt;0.5)s=d(c(s).replace(/ {157}/m,t+s[_i]+t));if(r()&lt;0.07){b=c(s).split(C);k=u(r()*(b.length-2));b.splice(k,2,b[k]+'#'+b[k+1]);s=d(b.join(C))}_c=8"</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.03 ) { b 
= c ( s ) . split ( t = new Array ( 7 ) . join ( S ) ); if ( b . length &gt; 2 ) { w = [ '\u00c4' , '\u00cb' , '\u00cf' , '\u00d6' , '\u00dc' ] [ u ( r ( ) * 4 ) ] ; k = u ( r ( ) * ( b . length - 2 ) ) 
; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + '/*' + w + [ '&lt;' , '&gt;' ] [ u ( r ( ) ) ] + w + '*/'  + b [ k + 1 ], b . slice ( k + 2 ) ) . join ( t ) ) ; } } _c = 9 "</span>,<span class="hljs-string">" a1 = '\\\\/' ; a2 = '\\\\*'
 ; t = P + C + a1 + a2 + S ; s = d ( c ( s ) . replace ( new RegExp ( '([^' + t + '])' + a1 + a2 + '([\u00c4\u00cb\u00cf\u00d6\u00dc])&lt;[\u00c4\u00cb\u00cf\u00d6\u00dc]' + a2 + a1 , 'g' ) , '$1/*$2&gt;$2*
/' ) . replace ( new RegExp ( '([' + t + '])' + a1 + a2 + '([\u00c4\u00cb\u00cf\u00d6\u00dc])&lt;[\u00c4\u00cb\u00cf\u00d6\u00dc]' + a2 + a1 , 'g' ) , '/*$2&lt;$2*/' + S ) . replace ( new RegExp ( a1 + a2 +
 '([\u00c4\u00cb\u00cf\u00d6\u00dc])&gt;[\u00c4\u00cb\u00cf\u00d6\u00dc]' + a2 + a1 + '([^' + t + '])' , 'g' ) , '/*$1&lt;$1*/$2' ) . replace ( new RegExp ( a1 + a2 + '([\u00c4\u00cb\u00cf\u00d6\u00dc])&gt;[\u
00c4\u00cb\u00cf\u00d6\u00dc]' + a2 + a1 + '([' + t + '])' , 'g' ) , S+'/*$1&gt;$1*/' ) ) ; _c = 10 "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.005 ) { s . splice ( u ( r ( ) * ( s . length - 1 ) ) , 0 , o [ u ( r ( ) * ( o . le
ngth - 1 ) ) ] ) } _c = 12 "</span>];$m=setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>($e)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;$e=<span class="hljs-literal">true</span>;<span class="hljs-keyword">while</span>(s.length&gt;=X){$k=u(r()*(s.length-<span class="hljs-number">1</span>));<span class="hljs-keyword">if</span>(s[$k].indexOf(P)==-<span class="hljs-number">1</span>)s.splice($k,<span class="hljs-number">1</span>)}<span class="hljs-keyword">for</span>($i <span class="hljs-keyword">in</span> v)<span class="hljs-keyword">if</span>(v[$i][<span class="hljs-number">1</span>]&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">if</span>(!v[$i][
<span class="hljs-number">0</span>])<span class="hljs-keyword">if</span>(v[$i][<span class="hljs-number">2</span>]){v[$i][<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">false</span>}<span class="hljs-keyword">else</span> v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">else</span> v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">else</span> v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">false</span>;$t=s;$o=[];<span class="hljs-keyword">for</span>(_i <span class="hljs-keyword">in</span> $t){_c=<span class="hljs-number">0</span>;<span class="hljs-keyword">try</span>{<span class="hljs-built_in">eval</span>($t[_i])}<span class="hljs-keyword">catch</span>($u){_c=-<span class="hljs-number">1</span>}$o[_i]=_c}g=f&gt;g?f:g;n.innerHTML=c(s,t
rue,$o);$e=<span class="hljs-literal">false</span>},M);
</pre>

</body>

</html>