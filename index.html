<!DOCTYPE html>
<!-- Copyright (c) 2014 Sam Adam-Day -->
<!-- MIT Licence -->
<html>

<head>
	<title>Corruption</title>
	<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	<link href="style.css" type="text/css" rel="stylesheet">
	<link href="highlight/styles/corruption.css" type="text/css" rel="stylesheet">
	<script src="keypress/keypress-2.0.2.min.js" type="text/javascript"></script>
	<script src="highlight/highlight.pack.js" type="text/javascript"></script>
</head>

<body>

<script>$l=new keypress.Listener();$l.register_combo({"keys":"space","on_keydown":function(){console.log(1);eval(n.innerHTML.replace(/<[^>]+>|\n/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))}})</script>

<pre id="n"><span class="hljs-comment">/* ** <strong>CORRUPTION</strong> **  by <em>Sam Adam-Day</em> */</span>   <span class="hljs-comment">/* This is Corruption. You are a single block character. The universe in which you live is the code for the universe in which you live (it's very meta). There
's code that allows you to move and code that gives you points, but also code that reduces your points and code for baddies. You must traverse this world carefully, taking care not to destroy your own
 capacity to exist. */</span> <span class="hljs-comment">/* |Universe| There are lots of discrete bits of code, each of which do different things (see |Statements| for a description of these). If a piece of code is <span class="bad-statement">red</span>, then it's not 
valid, and no longer has an effect (this may only be temporary). The way to gain points is by eating yin-yangs, which appear spontaneously (this is probably a metaphor for something). */</span><span class="hljs-comment">/* |Controls| 
Use [arrow keys] to move around. Once the universe is corrupted beyond repair, press [q], [backspace], or [esc] to see your final score. You can press [space] whenever you want to begin playing. */</span> <span class="hljs-comment">/*
 |Statements| The statements that exist in this universe do the following: - initialise the universe - allow you to move around (recognise them by UP, DOWN, LEFT, RIGHT) - display your score - change 
the environment in various ways - generate yin-yangs - reduce your score - self replicate and eat yin-yangs (the viruses) */</span> <span class="hljs-comment">/* |A Bit More| The game is, but its natrue, quite varied. It helps if you'
re familiar with computer programming (the language of the universe is javascript). Sometimes statements combine in unexpected ways to produce really weird results; be ready for this. If there's more 
than one block character, you control the one earliest. Big yin-yangs are made of smaller yin-yangs. When a virus eats a yin-yang, it leaved behind a #. */</span> <span class="hljs-comment">/* |Credits| This game uses the <a href="http://dmauro.github.io/Keypress/">Keypress</a> jav
ascript library made by David Mauro, and <a href="http://highlightjs.org/">highlight.js</a> made by <a href="https://github.com/isagalaev/highlight.js/blob/master/AUTHORS.en.txt">many people</a>. */</span> <span class="hljs-comment">/* |Source| This game is open source, and you can find it on <a href="https://github.com/SparklePigBang/corruption">Github</a>. */</span>   <span class="hljs-comment">/* ENJOY! */</span>   M=<span class="hljs-number">250</span>;W=<span class="hljs-number">200</span>;X=<span class="hljs-number">50</span>;I=<span class="hljs-number">50</span>;D=<span class="hljs-string">"/**/"</span>;P=
<span class="hljs-string">"\u2588"</span>;G=<span class="hljs-string">"/*\u262f\u262f*/"</span>;C=<span class="hljs-string">"\u262f"</span>;S=<span class="hljs-string">" "</span>;L=<span class="hljs-number">6</span>;f=<span class="hljs-number">0</span>;g=<span class="hljs-number">0</span>;v={<span class="hljs-string">"UP"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"DOWN"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"LEFT"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>],<span class="hljs-string">"RIGHT"</span>:[<span class="hljs-literal">false</span>,<span class="hljs-number">0</span>,<span class="hljs-literal">false</span>]};$e=<span class="hljs-literal">false</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>($m)clearInterval($m);
n.innerHTML=hljs.highlight(<span class="hljs-string">"javascript"</span>,<span class="hljs-string">"/**************/\n/* Game Over! */\n/**************/\n/* Score: */\ng = "</span>+g+<span class="hljs-string">";\n\n/* Press [F5] to play again. /*"</span>).value}$l.register_many([{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"up"</span>,<span class="hljs-string">"on_ke
ydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.UP[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;v.UP[<span class="hljs-number">1</span>]++},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.UP[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"down"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.DOWN[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;v.DOWN[<span class="hljs-number">1</span>]++},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.DOWN[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"left
"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.LEFT[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;v.LEFT[<span class="hljs-number">1</span>]+=<span class="hljs-number">5</span>},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.LEFT[<span class="hljs-number">0</span>]=<span class="hljs-literal">false</span>}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"right"</span>,<span class="hljs-string">"on_keydown"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.RIGHT[<span class="hljs-number">0</span>]=<span class="hljs-literal">true</span>;v.RIGHT[<span class="hljs-number">1</span>]+=<span class="hljs-number">5</span>},<span class="hljs-string">"on_keyup"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>v.RIGHT[<span class="hljs-number">0</span>]=f
alse}},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"q"</span>,<span class="hljs-string">"on_keydown"</span>:w},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"backspace"</span>,<span class="hljs-string">"on_keydown"</span>:w},{<span class="hljs-string">"keys"</span>:<span class="hljs-string">"escape"</span>,<span class="hljs-string">"on_keydown"</span>:w}]);r=<span class="hljs-built_in">Math</span>.random;u=<span class="hljs-built_in">Math</span>.round;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span><span class="hljs-params">($g,$y,$s)</span>{</span>$y=<span class="hljs-keyword">typeof</span> $y!=<span class="hljs-string">"undefined"</span>&amp;&amp;$y;$w=-<span class="hljs-number">1</span>;$q=[];<span class="hljs-keyword">for</span>(
$i <span class="hljs-keyword">in</span> $g)<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> $g[$i]==<span class="hljs-string">"string"</span>&amp;&amp;$g[$i]){$f=$g[$i];$v=($w+$f.length)%W;<span class="hljs-keyword">if</span>($v+D.length&gt;=W)$v=D.length-<span class="hljs-number">1</span>;<span class="hljs-keyword">else</span> $v+=D.length;<span class="hljs-keyword">if</span>($w+$f.length+D.length&gt;=W){$a=[$f.slice(<span class="hljs-number">0</span>,W-$w-<span class="hljs-number">1</span>)];<span class="hljs-keyword">for</span>($j=<span class="hljs-number">0</span>;$j&lt;=<span class="hljs-built_in">Math</span>.floo
r(($w+$f.length+D.length-W)/W);$j++)$a.push($f.slice(W-$w-<span class="hljs-number">1</span>+$j*W,W-$w-<span class="hljs-number">1</span>+($j+<span class="hljs-number">1</span>)*W));$f=$a.join(<span class="hljs-string">"\n"</span>)}<span class="hljs-keyword">if</span>($y){$f=hljs.highlight(<span class="hljs-string">"javascript"</span>,$f,<span class="hljs-literal">true</span>).value.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(C+C,<span class="hljs-string">"g"</span>),<span class="hljs-string">"\u00d6"</span>).replace(n
ew <span class="hljs-built_in">RegExp</span>(C,<span class="hljs-string">"g"</span>),<span class="hljs-string">"&lt;span class='yin-yang-small'&gt;"</span>+C+<span class="hljs-string">"&lt;/span&gt;"</span>).replace(<span class="hljs-regexp">/\u00d6/g</span>,<span class="hljs-string">"&lt;span class='yin-yang-large'&gt;"</span>+C+<span class="hljs-string">"&lt;/span&gt;"</span>);<span class="hljs-keyword">if</span>(!$s[$i])$f=<span class="hljs-string">"&lt;span class='bad-statement'&gt;"</span>+$f+<span class="hljs-string">"&lt;/span&gt;"</span>}$q.push($f);$w=$v
}<span class="hljs-keyword">return</span> $y?$q.join(hljs.highlight(<span class="hljs-string">"javascript"</span>,D,<span class="hljs-literal">true</span>).value):$q.join(D)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span><span class="hljs-params">($h)</span>{</span><span class="hljs-keyword">return</span> $h.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\n"</span>,<span class="hljs-string">"g"</span>),<span class="hljs-string">""</span>).split(D)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">return</span><span class="hljs-string">"score="</span>+f+<span class="hljs-string">";"</span>}s=[<span class="hljs-string">"eval(s[1]); s.push(s[1
],s[1],s[1]); for (i=0;i&lt;3;i++){k=u(r()*(s.length-1));s.splice(k,0,s[k]);} for (i=s.length-1;i&gt;0;i--){j=u(r()*(s.length-1));t=s[i];s[i]=s[j];s[j]=t;} b=c(s).split(S);for(i=0;i&lt;100;i++){k=u(r()*(b.leng
th-1));b=b.slice(0,k).concat(b[k]+new Array(u(r()*40+1)).join(S),b.slice(k+1));}s=d(b.join(S)); b=c(s);k=u(r()*(b.length-1));s=d(b.slice(0,k)+P+b.slice(k+1)); b=c(s).split(t=new Array(L).join(S));k=u(
r()*(b.length-1));s=d(b.slice(0,k).concat(b[k]+G,b.slice(k+1)).join(t));"</span>,<span class="hljs-string">"s[0]='score='+f+';'"</span>,<span class="hljs-string">" for ( i = 0 ; i &lt; v . UP [ 1 ] / 100 ; i ++ ) { b = c ( s ) ; p = b . indexOf ( P ) ; x = p % W ; y = 
( p - x ) / W ; y = Math . max ( 0 , y - 1 ) ; if ( b [ y * W + x + 1 ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x - 1 ) + P + t . slice ( y * W + x ) ); } "</span>,<span class="hljs-string">" for
 ( i = 0 ; i &lt; v . DOWN [ 1 ] / 100 ; i ++ ) { b = c ( s ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; y = Math . min ( Math . ceil ( b . length / W ) - 1 , y + 1 ) ; if ( b [ y * W + x 
+ 1 ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x + 1 ) + P + t . slice ( y * W + x + 2 ) ); } "</span>,<span class="hljs-string">" for ( i = 0 ; i &lt; v . LEFT [ 1 ] / 100 ; i ++ ) { b = c ( s ) . r
eplace ( /\\n/g , '' ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) / W ; x = Math . max ( 0 , x - 1 ) ; if ( b [ y * W + x ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0
 , y * W + x ) + P + t . slice ( y * W + x + 1 ) ); } "</span>,<span class="hljs-string">" for ( i = 0 ; i &lt; v . RIGHT [ 1 ] / 100 ; i ++ ) { b = c ( s ) . replace ( /\\n/g , '' ) ; p = b . indexOf ( P ) ; x = p % W ; y = ( p - x ) /
 W ; x = Math . min ( W - 1 , x + 1 ) ; if ( b [ y * W + x ] == C ) { f += I } t = b . replace ( P , S ) ; s = d ( t . slice ( 0 , y * W + x ) + P + t . slice ( y * W + x + 1 ) ); } "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0
.004 ) { k = u ( r ( ) * ( s . length - 2 ) ) ; t = s [ k ] ; s [ k ] = s [ k + 1 ] ; s [ k + 1 ] = t } "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.005 ) { k = u ( r ( ) * ( s . length - 1 ) ) ; s . splice ( k , 0 , s [ k ] )
 } "</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.3 ) { b = c ( s ) . split (  S ) ; k = u ( r ( ) * ( b . length - 1 ) ) ; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + S , b . slice ( k + 1 ) ) . join ( S ) ) } "</span>,<span class="hljs-string">" if ( r (
 ) &lt; 0.3 ) { b = c ( s ) . split ( S ) ; k = u ( r ( ) * ( b . length - 2 ) ) ; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + b [ k + 1 ] , b . slice ( k + 2 ) ) . join ( S ) ) } "</span>,<span class="hljs-string">" b = c ( s ) ; 
p = b . indexOf ( P ) ; t = b . replace ( new RegExp ( P , 'g' ) , S ) ; s = d ( b . slice ( 0 , p ) + P + b . slice ( p + 1 ) ) ;"</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.06 ) { b = c ( s ) . split ( t = new Array ( G . le
ngth ) . join ( S ) ); k = u ( r ( ) * ( b . length - 2 ) ) ; s = d ( b . slice ( 0 , k ) . concat ( b [ k ] + G  + b [ k + 1 ], b . slice ( k + 2 ) ) . join ( t ) ) ; }"</span>,<span class="hljs-string">" if ( r ( ) &lt; 0.4 ) { f-- }"</span>
,<span class="hljs-string">"t='/*'+'*/';if(r()&lt;0.5)s=d(c(s).replace(/ {157}/m,t+s[_i]+t));if(r()&lt;0.01){b=c(s).split(C);k=u(r()*(b.length-2));b.splice(k,2,b[k]+'#'+b[k+1]);s=d(b.join(C))}"</span>];$m=setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span><span class="hljs-keyword">if</span>($e)retur
n <span class="hljs-literal">false</span>;$e=<span class="hljs-literal">true</span>;<span class="hljs-keyword">while</span>(s.length&gt;=X){$k=u(r()*(s.length-<span class="hljs-number">1</span>));<span class="hljs-keyword">if</span>(s[$k].indexOf(P)==-<span class="hljs-number">1</span>)s.splice($k,<span class="hljs-number">1</span>)}<span class="hljs-keyword">for</span>($i <span class="hljs-keyword">in</span> v)<span class="hljs-keyword">if</span>(v[$i][<span class="hljs-number">1</span>]&gt;<span class="hljs-number">0</span>)<span class="hljs-keyword">if</span>(!v[$i][<span class="hljs-number">0</span>])<span class="hljs-keyword">if</span>(v[$i][<span class="hljs-number">2</span>]){v[$i][<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">false</span>}<span class="hljs-keyword">else</span> v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">else</span> v
[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">else</span> v[$i][<span class="hljs-number">2</span>]=<span class="hljs-literal">false</span>;$t=s;$o=[];<span class="hljs-keyword">for</span>(_i <span class="hljs-keyword">in</span> $t){$o[_i]=<span class="hljs-literal">true</span>;<span class="hljs-keyword">try</span>{<span class="hljs-built_in">eval</span>($t[_i])}<span class="hljs-keyword">catch</span>($u){$o[_i]=<span class="hljs-literal">false</span>}}g=f&gt;g?f:g;n.innerHTML=c(s,<span class="hljs-literal">true</span>,$o);$e=<span class="hljs-literal">false</span>},M);
</pre>

</body>

</html>